{
  "name": "ATR Trailing Stop",
  "settings": {
    "initialCapital": 10000,
    "currency": "USD",
    "orderSize": 100,
    "orderType": "percent",
    "pyramiding": 0,
    "commission": 0.1,
    "commissionType": "percent",
    "slippage": 0
  },
  "signals": {
    "longEntry": {
      "enabled": true,
      "groups": [
        {
          "id": "g1",
          "conditions": [
            {
              "id": "c1",
              "left": { "type": "price", "source": "close" },
              "operator": "gt",
              "right": { "type": "variable", "variableId": "var_mySMA" }
            }
          ]
        }
      ],
      "exitSettings": { "takeProfitEnabled": false, "stopLossEnabled": false }
    },
    "longExit": {
      "enabled": true,
      "groups": [
        {
          "id": "g2",
          "conditions": [
            {
              "id": "c2",
              "left": { "type": "price", "source": "close" },
              "operator": "lt",
              "right": { "type": "variable", "variableId": "var_trailStop" }
            }
          ]
        }
      ],
      "exitSettings": { "takeProfitEnabled": false, "stopLossEnabled": false }
    },
    "shortEntry": {
      "enabled": false,
      "groups": [],
      "exitSettings": { "takeProfitEnabled": false, "stopLossEnabled": false }
    },
    "shortExit": {
      "enabled": false,
      "groups": [],
      "exitSettings": { "takeProfitEnabled": false, "stopLossEnabled": false }
    }
  },
  "variables": [
    {
      "id": "var_myATR",
      "name": "myATR",
      "type": "indicator",
      "indicator": "atr",
      "params": {
        "period": { "type": "input", "inputName": "atrPeriod" }
      }
    },
    {
      "id": "var_mySMA",
      "name": "mySMA",
      "type": "indicator",
      "indicator": "sma",
      "params": {
        "source": "close",
        "period": { "type": "input", "inputName": "smaPeriod" }
      }
    },
    {
      "id": "var_trailStop",
      "name": "trailStop",
      "type": "expression",
      "expression": {
        "type": "binary",
        "operator": "-",
        "left": { "type": "price", "source": "close" },
        "right": {
          "type": "binary",
          "operator": "*",
          "left": { "type": "input", "inputName": "atrMult" },
          "right": { "type": "variable", "variableId": "var_myATR" }
        }
      }
    }
  ],
  "inputs": [
    {
      "id": "input_atrPeriod",
      "name": "atrPeriod",
      "type": "int",
      "default": 14,
      "min": 1
    },
    {
      "id": "input_smaPeriod",
      "name": "smaPeriod",
      "type": "int",
      "default": 50,
      "min": 1
    },
    {
      "id": "input_atrMult",
      "name": "atrMult",
      "type": "float",
      "default": 2.0,
      "min": 0.1
    }
  ]
}
